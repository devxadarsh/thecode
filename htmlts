<div class="payment-mode-container">
    <!-- Loading State -->
    <div *ngIf="isLoading" style="text-align: center; padding: 60px 20px;">
        <div style="font-size: 48px; margin-bottom: 20px;">‚è≥</div>
        <p style="font-size: 18px; color: #666;">Loading configuration...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && errorMessage" style="text-align: center; padding: 60px 20px;">
        <div style="font-size: 48px; margin-bottom: 20px;">‚ùå</div>
        <p style="font-size: 18px; color: #f44336; margin-bottom: 30px;">{{ errorMessage }}</p>
        <button type="button" class="btn btn-secondary" (click)="onBack()">
            <span class="icon">‚¨ÖÔ∏è</span> Go Back
        </button>
    </div>

    <!-- Main Content -->
    <div *ngIf="!isLoading && savedConfiguration && paymentModeConfig">

        <!-- Header -->
        <div class="header">
            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                <div style="flex: 1;">
                    <h2>Payment Mode Configuration Details</h2>
                    <p class="subtitle">View complete configuration for selected merchant and payment mode</p>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="button" class="btn btn-secondary btn-small" (click)="onBack()">
                        <span class="icon">‚¨ÖÔ∏è</span> Back
                    </button>
                    <button type="button" class="btn btn-primary btn-small" (click)="onEdit()">
                        <span class="icon">‚úèÔ∏è</span> Edit
                    </button>
                </div>
            </div>
        </div>

        <!-- Basic Information Card -->
        <div class="config-section" style="margin-bottom: 25px;">
            <div class="section-title">Basic Information</div>

            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                <div class="info-item">
                    <div class="info-label">Merchant ID</div>
                    <div class="info-value">{{ savedConfiguration.merchantId }}</div>
                </div>

                <div class="info-item">
                    <div class="info-label">Payment Mode</div>
                    <div class="info-value">
                        <span class="payment-mode-badge">{{ savedConfiguration.paymentMode }}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Configuration Details -->
        <div *ngFor="let section of paymentModeConfig.sections" class="config-section">
            <div class="section-title">{{ section.title }}</div>

            <div class="config-details">
                <div *ngFor="let field of section.fields" class="config-field-item">

                    <!-- Skip info type fields -->
                    <ng-container *ngIf="field.type !== 'info'">
                        <div class="field-row">
                            <div class="field-label">
                                <span class="field-icon">üìã</span>
                                {{ field.label }}
                            </div>
                            <div class="field-value" [class.empty-value]="!hasFieldValue(field.id)">
                                {{ getFieldDisplayValue(field.id) }}
                            </div>
                        </div>
                    </ng-container>

                    <!-- Info type fields -->
                    <div *ngIf="field.type === 'info'" class="info-text" style="margin: 10px 0;">
                        {{ field.infoText }}
                    </div>

                </div>
            </div>
        </div>

        <!-- No Configuration Data -->
        <div *ngIf="!paymentModeConfig.sections || paymentModeConfig.sections.length === 0" class="info-text"
            style="text-align: center; margin: 30px 0;">
            No configuration fields available for this payment mode.
        </div>

    </div>
</div>

<style>
    .info-item {
        padding: 15px;
        background: #f8f9fa;
        border-radius: 6px;
        border-left: 3px solid #4CAF50;
    }

    .info-label {
        font-size: 12px;
        color: #666;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 8px;
    }

    .info-value {
        font-size: 16px;
        color: #333;
        font-weight: 500;
    }

    .payment-mode-badge {
        display: inline-block;
        padding: 6px 16px;
        background: #4CAF50;
        color: white;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
    }

    .config-details {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .config-field-item {
        border-bottom: 1px solid #e0e0e0;
        padding-bottom: 15px;
    }

    .config-field-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
    }

    .field-row {
        display: grid;
        grid-template-columns: 280px 1fr;
        gap: 20px;
        align-items: start;
    }

    .field-label {
        font-weight: 600;
        color: #555;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .field-icon {
        font-size: 16px;
    }

    .field-value {
        font-size: 15px;
        color: #333;
        background: #f8f9fa;
        padding: 12px 16px;
        border-radius: 6px;
        line-height: 1.6;
        word-break: break-word;
    }

    .empty-value {
        color: #999;
        font-style: italic;
    }

    @media (max-width: 768px) {
        .field-row {
            grid-template-columns: 1fr;
            gap: 8px;
        }

        .info-item {
            padding: 12px;
        }

        .info-value {
            font-size: 14px;
        }
    }
</style>
